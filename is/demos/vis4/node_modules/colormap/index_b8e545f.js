define("colormap/index",function(r,a,n){"use strict";function o(r){var a,n,o,c,s,h,u,f,g,d,m,b,x,y=[],w=[],A=[],M=[];if(i.isPlainObject(r)||(r={}),g=r.nshades||72,f=r.format||"hex",u=r.colormap,u||(u="jet"),"string"==typeof u){if(u=u.toLowerCase(),!p[u])throw Error(u+" not a supported colorscale");h=l(p[u])}else{if(!Array.isArray(u))throw Error("unsupported colormap option",u);h=l(u)}if(h.length>g)throw new Error(u+" map requires nshades to be at least size "+h.length);for(m=Array.isArray(r.alpha)?2!==r.alpha.length?[1,1]:l(r.alpha):"number"==typeof r.alpha?[r.alpha,r.alpha]:[1,1],a=h.map(function(r){return Math.round(r.index*g)}),m[0]<0&&(m[0]=0),m[1]<0&&(m[0]=0),m[0]>1&&(m[0]=1),m[1]>1&&(m[0]=1),x=0;x<a.length;++x)b=h[x].index,n=h[x].rgb,4===n.length&&n[3]>=0&&n[3]<=1||(n[3]=m[0]+(m[1]-m[0])*b);for(x=0;x<a.length-1;++x)s=a[x+1]-a[x],o=h[x].rgb,c=h[x+1].rgb,y=y.concat(i.linspace(o[0],c[0],s)),w=w.concat(i.linspace(o[1],c[1],s)),A=A.concat(i.linspace(o[2],c[2],s)),M=M.concat(i.linspace(o[3],c[3],s));return y=y.map(Math.round),w=w.map(Math.round),A=A.map(Math.round),d=i.zip(y,w,A,M),"hex"===f&&(d=d.map(t)),"rgbaString"===f&&(d=d.map(e)),d}function t(r){for(var a,n="#",o=0;3>o;++o)a=r[o],a=a.toString(16),n+=("00"+a).substr(a.length);return n}function e(r){return"rgba("+r.join(",")+")"}var i=r("arraytools/index"),l=r("clone/clone"),p=r("colormap/colorScales");n.exports=o});